import { AUTH_PERMISSIONS, USER_ROLE } from '@/constants/permissions.constants'

export type PermLevel = 'rw' | 'r' | false

export const PERMISSION_LABELS: Record<string, string> = {
  [AUTH_PERMISSIONS.USERS]: 'Manage Users',
  [AUTH_PERMISSIONS.SETTINGS]: 'Manage Settings',
  [AUTH_PERMISSIONS.ACTIONS]: 'Actions',
  [AUTH_PERMISSIONS.MINER]: 'Miners',
  [AUTH_PERMISSIONS.CONTAINER]: 'Containers',
  [AUTH_PERMISSIONS.MINERPOOL]: 'Miner Pool',
  [AUTH_PERMISSIONS.EXPLORER]: 'Explorer',
  [AUTH_PERMISSIONS.INVENTORY]: 'Inventory',
  [AUTH_PERMISSIONS.ALERTS]: 'Alerts',
  [AUTH_PERMISSIONS.COMMENTS]: 'Comments',
  [AUTH_PERMISSIONS.REPORTING]: 'Reporting',
  [AUTH_PERMISSIONS.REVENUE]: 'Revenue',
  [AUTH_PERMISSIONS.CABINETS]: 'Cabinets',
  [AUTH_PERMISSIONS.POWERMETER]: 'Power Meter',
  [AUTH_PERMISSIONS.ELECTRICITY]: 'Electricity',
  [AUTH_PERMISSIONS.FEATURES]: 'Features',
  [AUTH_PERMISSIONS.TICKETS]: 'Tickets',
}

// TODO: Replace with API data when GET /permissions?role= endpoint is available
export const ROLE_PERMISSIONS: Record<string, Record<string, PermLevel>> = {
  [USER_ROLE.ADMIN]: Object.fromEntries(
    Object.keys(PERMISSION_LABELS).map((key) => [key, 'rw' as PermLevel]),
  ),
  [USER_ROLE.SITE_MANAGER]: {
    [AUTH_PERMISSIONS.USERS]: 'rw',
    [AUTH_PERMISSIONS.SETTINGS]: 'rw',
    [AUTH_PERMISSIONS.ACTIONS]: 'rw',
    [AUTH_PERMISSIONS.MINER]: 'rw',
    [AUTH_PERMISSIONS.CONTAINER]: 'rw',
    [AUTH_PERMISSIONS.MINERPOOL]: 'rw',
    [AUTH_PERMISSIONS.EXPLORER]: 'rw',
    [AUTH_PERMISSIONS.INVENTORY]: 'rw',
    [AUTH_PERMISSIONS.ALERTS]: 'rw',
    [AUTH_PERMISSIONS.COMMENTS]: 'rw',
    [AUTH_PERMISSIONS.REPORTING]: 'rw',
    [AUTH_PERMISSIONS.REVENUE]: 'r',
    [AUTH_PERMISSIONS.CABINETS]: 'rw',
    [AUTH_PERMISSIONS.POWERMETER]: 'r',
    [AUTH_PERMISSIONS.ELECTRICITY]: 'r',
    [AUTH_PERMISSIONS.FEATURES]: 'r',
    [AUTH_PERMISSIONS.TICKETS]: 'rw',
  },
  [USER_ROLE.REPORTING_TOOL_MANAGER]: {
    [AUTH_PERMISSIONS.USERS]: false,
    [AUTH_PERMISSIONS.SETTINGS]: 'r',
    [AUTH_PERMISSIONS.ACTIONS]: false,
    [AUTH_PERMISSIONS.MINER]: 'r',
    [AUTH_PERMISSIONS.CONTAINER]: 'r',
    [AUTH_PERMISSIONS.MINERPOOL]: 'r',
    [AUTH_PERMISSIONS.EXPLORER]: 'r',
    [AUTH_PERMISSIONS.INVENTORY]: 'r',
    [AUTH_PERMISSIONS.ALERTS]: 'r',
    [AUTH_PERMISSIONS.COMMENTS]: 'r',
    [AUTH_PERMISSIONS.REPORTING]: 'rw',
    [AUTH_PERMISSIONS.REVENUE]: 'rw',
    [AUTH_PERMISSIONS.CABINETS]: 'r',
    [AUTH_PERMISSIONS.POWERMETER]: 'r',
    [AUTH_PERMISSIONS.ELECTRICITY]: 'r',
    [AUTH_PERMISSIONS.FEATURES]: false,
    [AUTH_PERMISSIONS.TICKETS]: false,
  },
  [USER_ROLE.SITE_OPERATOR]: {
    [AUTH_PERMISSIONS.USERS]: false,
    [AUTH_PERMISSIONS.SETTINGS]: 'r',
    [AUTH_PERMISSIONS.ACTIONS]: 'rw',
    [AUTH_PERMISSIONS.MINER]: 'rw',
    [AUTH_PERMISSIONS.CONTAINER]: 'rw',
    [AUTH_PERMISSIONS.MINERPOOL]: 'r',
    [AUTH_PERMISSIONS.EXPLORER]: 'rw',
    [AUTH_PERMISSIONS.INVENTORY]: 'rw',
    [AUTH_PERMISSIONS.ALERTS]: 'rw',
    [AUTH_PERMISSIONS.COMMENTS]: 'rw',
    [AUTH_PERMISSIONS.REPORTING]: 'r',
    [AUTH_PERMISSIONS.REVENUE]: false,
    [AUTH_PERMISSIONS.CABINETS]: 'rw',
    [AUTH_PERMISSIONS.POWERMETER]: 'r',
    [AUTH_PERMISSIONS.ELECTRICITY]: 'r',
    [AUTH_PERMISSIONS.FEATURES]: false,
    [AUTH_PERMISSIONS.TICKETS]: 'rw',
  },
  [USER_ROLE.FIELD_OPERATOR]: {
    [AUTH_PERMISSIONS.USERS]: false,
    [AUTH_PERMISSIONS.SETTINGS]: false,
    [AUTH_PERMISSIONS.ACTIONS]: 'r',
    [AUTH_PERMISSIONS.MINER]: 'r',
    [AUTH_PERMISSIONS.CONTAINER]: 'r',
    [AUTH_PERMISSIONS.MINERPOOL]: 'r',
    [AUTH_PERMISSIONS.EXPLORER]: 'r',
    [AUTH_PERMISSIONS.INVENTORY]: 'r',
    [AUTH_PERMISSIONS.ALERTS]: 'r',
    [AUTH_PERMISSIONS.COMMENTS]: 'rw',
    [AUTH_PERMISSIONS.REPORTING]: 'r',
    [AUTH_PERMISSIONS.REVENUE]: false,
    [AUTH_PERMISSIONS.CABINETS]: 'r',
    [AUTH_PERMISSIONS.POWERMETER]: 'r',
    [AUTH_PERMISSIONS.ELECTRICITY]: 'r',
    [AUTH_PERMISSIONS.FEATURES]: false,
    [AUTH_PERMISSIONS.TICKETS]: 'r',
  },
  [USER_ROLE.REPAIR_TECHNICIAN]: {
    [AUTH_PERMISSIONS.USERS]: false,
    [AUTH_PERMISSIONS.SETTINGS]: false,
    [AUTH_PERMISSIONS.ACTIONS]: false,
    [AUTH_PERMISSIONS.MINER]: 'r',
    [AUTH_PERMISSIONS.CONTAINER]: 'r',
    [AUTH_PERMISSIONS.MINERPOOL]: false,
    [AUTH_PERMISSIONS.EXPLORER]: 'r',
    [AUTH_PERMISSIONS.INVENTORY]: 'rw',
    [AUTH_PERMISSIONS.ALERTS]: 'r',
    [AUTH_PERMISSIONS.COMMENTS]: 'rw',
    [AUTH_PERMISSIONS.REPORTING]: false,
    [AUTH_PERMISSIONS.REVENUE]: false,
    [AUTH_PERMISSIONS.CABINETS]: 'r',
    [AUTH_PERMISSIONS.POWERMETER]: false,
    [AUTH_PERMISSIONS.ELECTRICITY]: false,
    [AUTH_PERMISSIONS.FEATURES]: false,
    [AUTH_PERMISSIONS.TICKETS]: 'rw',
  },
  [USER_ROLE.READ_ONLY]: {
    [AUTH_PERMISSIONS.USERS]: false,
    [AUTH_PERMISSIONS.SETTINGS]: 'r',
    [AUTH_PERMISSIONS.ACTIONS]: false,
    [AUTH_PERMISSIONS.MINER]: 'r',
    [AUTH_PERMISSIONS.CONTAINER]: 'r',
    [AUTH_PERMISSIONS.MINERPOOL]: 'r',
    [AUTH_PERMISSIONS.EXPLORER]: 'r',
    [AUTH_PERMISSIONS.INVENTORY]: 'r',
    [AUTH_PERMISSIONS.ALERTS]: 'r',
    [AUTH_PERMISSIONS.COMMENTS]: 'r',
    [AUTH_PERMISSIONS.REPORTING]: 'r',
    [AUTH_PERMISSIONS.REVENUE]: false,
    [AUTH_PERMISSIONS.CABINETS]: 'r',
    [AUTH_PERMISSIONS.POWERMETER]: 'r',
    [AUTH_PERMISSIONS.ELECTRICITY]: 'r',
    [AUTH_PERMISSIONS.FEATURES]: false,
    [AUTH_PERMISSIONS.TICKETS]: false,
  },
}
